{"numFailedTestSuites":4,"numFailedTests":47,"numPassedTestSuites":2,"numPassedTests":50,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":1,"numTodoTests":0,"numTotalTestSuites":6,"numTotalTests":97,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1750666668177,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["MainController Integration Tests","Database Integration"],"duration":18,"failureDetails":[],"failureMessages":[],"fullName":"MainController Integration Tests Database Integration should initialize with database connection","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should initialize with database connection"},{"ancestorTitles":["MainController Integration Tests","Database Integration"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"MainController Integration Tests Database Integration should handle conversation creation workflow","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle conversation creation workflow"},{"ancestorTitles":["MainController Integration Tests","IPC Handler Registration"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"MainController Integration Tests IPC Handler Registration should register all required IPC handlers","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should register all required IPC handlers"},{"ancestorTitles":["MainController Integration Tests","Provider Registry Integration"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"MainController Integration Tests Provider Registry Integration should initialize provider registry","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should initialize provider registry"},{"ancestorTitles":["MainController Integration Tests","Event Handling"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"MainController Integration Tests Event Handling should set up database event listeners","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should set up database event listeners"},{"ancestorTitles":["MainController Integration Tests","Error Handling"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"MainController Integration Tests Error Handling should handle database errors gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle database errors gracefully"},{"ancestorTitles":["MainController Integration Tests","Error Handling"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"MainController Integration Tests Error Handling should handle IPC request errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle IPC request errors"},{"ancestorTitles":["MainController Integration Tests","Streaming Integration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MainController Integration Tests Streaming Integration should manage active streams","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should manage active streams"},{"ancestorTitles":["MainController Integration Tests","Settings Integration"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"MainController Integration Tests Settings Integration should sync settings between database and providers","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should sync settings between database and providers"}],"endTime":1750666672864,"message":"","name":"D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\integration\\mainController.integration.test.ts","startTime":1750666671793,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["API Adapters","ClaudeAdapter"],"duration":8,"failureDetails":[{}],"failureMessages":["TypeError: APIAdapters_1.ClaudeAdapter is not a constructor\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\apiAdapters.test.ts:17:23)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"API Adapters ClaudeAdapter should set authorization header","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should set authorization header"},{"ancestorTitles":["API Adapters","ClaudeAdapter"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: APIAdapters_1.ClaudeAdapter is not a constructor\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\apiAdapters.test.ts:17:23)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"API Adapters ClaudeAdapter should handle streaming response","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle streaming response"},{"ancestorTitles":["API Adapters","ClaudeAdapter"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: APIAdapters_1.ClaudeAdapter is not a constructor\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\apiAdapters.test.ts:17:23)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"API Adapters ClaudeAdapter should handle API errors","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle API errors"},{"ancestorTitles":["API Adapters","ClaudeAdapter"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: APIAdapters_1.ClaudeAdapter is not a constructor\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\apiAdapters.test.ts:17:23)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"API Adapters ClaudeAdapter should test connection","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should test connection"},{"ancestorTitles":["API Adapters","ClaudeAdapter"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: APIAdapters_1.ClaudeAdapter is not a constructor\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\apiAdapters.test.ts:17:23)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"API Adapters ClaudeAdapter should return hardcoded models","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return hardcoded models"},{"ancestorTitles":["API Adapters","OpenAIAdapter"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'openai')\n    at new OpenAIAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\main\\models\\APIAdapters.ts:243:42)\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\apiAdapters.test.ts:119:23)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"API Adapters OpenAIAdapter should set authorization header","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should set authorization header"},{"ancestorTitles":["API Adapters","OpenAIAdapter"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'openai')\n    at new OpenAIAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\main\\models\\APIAdapters.ts:243:42)\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\apiAdapters.test.ts:119:23)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"API Adapters OpenAIAdapter should handle streaming response","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle streaming response"},{"ancestorTitles":["API Adapters","OpenAIAdapter"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'openai')\n    at new OpenAIAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\main\\models\\APIAdapters.ts:243:42)\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\apiAdapters.test.ts:119:23)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"API Adapters OpenAIAdapter should fetch available models","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should fetch available models"},{"ancestorTitles":["API Adapters","OllamaAdapter"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'Authorization')\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\apiAdapters.test.ts:205:38)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"API Adapters OllamaAdapter should not set authorization header","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should not set authorization header"},{"ancestorTitles":["API Adapters","OllamaAdapter"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: response.json is not a function\n    at OllamaAdapter.sendMessage (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\main\\models\\APIAdapters.ts:384:37)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\apiAdapters.test.ts:247:13)"],"fullName":"API Adapters OllamaAdapter should handle streaming response","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle streaming response"},{"ancestorTitles":["API Adapters","OllamaAdapter"],"duration":4,"failureDetails":[{"matcherResult":{"expected":"llama2","message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: \"llama2\"\nReceived: undefined","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"llama2\"\nReceived: undefined\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\apiAdapters.test.ts:273:34)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"API Adapters OllamaAdapter should fetch available models","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should fetch available models"},{"ancestorTitles":["API Adapters","ProviderRegistry"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: expect(received).toBeInstanceOf(expected)\n\nMatcher error: expected value must be a function\n\nExpected has value: undefined\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\apiAdapters.test.ts:295:51)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"API Adapters ProviderRegistry should initialize adapters based on API keys","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should initialize adapters based on API keys"},{"ancestorTitles":["API Adapters","ProviderRegistry"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: registry.updateApiKey is not a function\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\apiAdapters.test.ts:306:22)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"API Adapters ProviderRegistry should update API key and create adapter","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should update API key and create adapter"},{"ancestorTitles":["API Adapters","ProviderRegistry"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: registry.updateOllamaEndpoint is not a function\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\apiAdapters.test.ts:313:22)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"API Adapters ProviderRegistry should update Ollama endpoint","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should update Ollama endpoint"},{"ancestorTitles":["API Adapters","ProviderRegistry"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: registry.testConnection is not a function\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\apiAdapters.test.ts:324:43)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"API Adapters ProviderRegistry should test connection for provider","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should test connection for provider"},{"ancestorTitles":["API Adapters","ProviderRegistry"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"API Adapters ProviderRegistry should get models for provider","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should get models for provider"}],"endTime":1750666672912,"message":"  ● API Adapters › ClaudeAdapter › should set authorization header\n\n    TypeError: APIAdapters_1.ClaudeAdapter is not a constructor\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m\n     \u001b[90m 16 |\u001b[39m         beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m             adapter \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mClaudeAdapter\u001b[39m(\u001b[32m'claude'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'test-api-key'\u001b[39m\u001b[33m,\u001b[39m \u001b[35m3\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m\n     \u001b[90m 20 |\u001b[39m         test(\u001b[32m'should set authorization header'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/apiAdapters.test.ts:17:23)\n\n  ● API Adapters › ClaudeAdapter › should handle streaming response\n\n    TypeError: APIAdapters_1.ClaudeAdapter is not a constructor\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m\n     \u001b[90m 16 |\u001b[39m         beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m             adapter \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mClaudeAdapter\u001b[39m(\u001b[32m'claude'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'test-api-key'\u001b[39m\u001b[33m,\u001b[39m \u001b[35m3\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m\n     \u001b[90m 20 |\u001b[39m         test(\u001b[32m'should set authorization header'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/apiAdapters.test.ts:17:23)\n\n  ● API Adapters › ClaudeAdapter › should handle API errors\n\n    TypeError: APIAdapters_1.ClaudeAdapter is not a constructor\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m\n     \u001b[90m 16 |\u001b[39m         beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m             adapter \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mClaudeAdapter\u001b[39m(\u001b[32m'claude'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'test-api-key'\u001b[39m\u001b[33m,\u001b[39m \u001b[35m3\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m\n     \u001b[90m 20 |\u001b[39m         test(\u001b[32m'should set authorization header'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/apiAdapters.test.ts:17:23)\n\n  ● API Adapters › ClaudeAdapter › should test connection\n\n    TypeError: APIAdapters_1.ClaudeAdapter is not a constructor\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m\n     \u001b[90m 16 |\u001b[39m         beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m             adapter \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mClaudeAdapter\u001b[39m(\u001b[32m'claude'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'test-api-key'\u001b[39m\u001b[33m,\u001b[39m \u001b[35m3\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m\n     \u001b[90m 20 |\u001b[39m         test(\u001b[32m'should set authorization header'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/apiAdapters.test.ts:17:23)\n\n  ● API Adapters › ClaudeAdapter › should return hardcoded models\n\n    TypeError: APIAdapters_1.ClaudeAdapter is not a constructor\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m\n     \u001b[90m 16 |\u001b[39m         beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m             adapter \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mClaudeAdapter\u001b[39m(\u001b[32m'claude'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'test-api-key'\u001b[39m\u001b[33m,\u001b[39m \u001b[35m3\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m\n     \u001b[90m 20 |\u001b[39m         test(\u001b[32m'should set authorization header'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/apiAdapters.test.ts:17:23)\n\n  ● API Adapters › OpenAIAdapter › should set authorization header\n\n    TypeError: Cannot read properties of undefined (reading 'openai')\n\n    \u001b[0m \u001b[90m 241 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mclass\u001b[39m \u001b[33mOpenAIAdapter\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mBaseAPIAdapter\u001b[39m {\n     \u001b[90m 242 |\u001b[39m     constructor(settings\u001b[33m:\u001b[39m \u001b[33mSettings\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 243 |\u001b[39m         \u001b[36msuper\u001b[39m(\u001b[32m'openai'\u001b[39m\u001b[33m,\u001b[39m settings\u001b[33m.\u001b[39mapiKeys\u001b[33m.\u001b[39mopenai\u001b[33m,\u001b[39m \u001b[32m'https://api.openai.com/v1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 244 |\u001b[39m     }\n     \u001b[90m 245 |\u001b[39m\n     \u001b[90m 246 |\u001b[39m     \u001b[36mprotected\u001b[39m getHeaders()\u001b[33m:\u001b[39m \u001b[33mRecord\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m,\u001b[39m string\u001b[33m>\u001b[39m {\u001b[0m\n\n      at new OpenAIAdapter (src/main/models/APIAdapters.ts:243:42)\n      at Object.<anonymous> (src/__tests__/apiAdapters.test.ts:119:23)\n\n  ● API Adapters › OpenAIAdapter › should handle streaming response\n\n    TypeError: Cannot read properties of undefined (reading 'openai')\n\n    \u001b[0m \u001b[90m 241 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mclass\u001b[39m \u001b[33mOpenAIAdapter\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mBaseAPIAdapter\u001b[39m {\n     \u001b[90m 242 |\u001b[39m     constructor(settings\u001b[33m:\u001b[39m \u001b[33mSettings\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 243 |\u001b[39m         \u001b[36msuper\u001b[39m(\u001b[32m'openai'\u001b[39m\u001b[33m,\u001b[39m settings\u001b[33m.\u001b[39mapiKeys\u001b[33m.\u001b[39mopenai\u001b[33m,\u001b[39m \u001b[32m'https://api.openai.com/v1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 244 |\u001b[39m     }\n     \u001b[90m 245 |\u001b[39m\n     \u001b[90m 246 |\u001b[39m     \u001b[36mprotected\u001b[39m getHeaders()\u001b[33m:\u001b[39m \u001b[33mRecord\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m,\u001b[39m string\u001b[33m>\u001b[39m {\u001b[0m\n\n      at new OpenAIAdapter (src/main/models/APIAdapters.ts:243:42)\n      at Object.<anonymous> (src/__tests__/apiAdapters.test.ts:119:23)\n\n  ● API Adapters › OpenAIAdapter › should fetch available models\n\n    TypeError: Cannot read properties of undefined (reading 'openai')\n\n    \u001b[0m \u001b[90m 241 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mclass\u001b[39m \u001b[33mOpenAIAdapter\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mBaseAPIAdapter\u001b[39m {\n     \u001b[90m 242 |\u001b[39m     constructor(settings\u001b[33m:\u001b[39m \u001b[33mSettings\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 243 |\u001b[39m         \u001b[36msuper\u001b[39m(\u001b[32m'openai'\u001b[39m\u001b[33m,\u001b[39m settings\u001b[33m.\u001b[39mapiKeys\u001b[33m.\u001b[39mopenai\u001b[33m,\u001b[39m \u001b[32m'https://api.openai.com/v1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 244 |\u001b[39m     }\n     \u001b[90m 245 |\u001b[39m\n     \u001b[90m 246 |\u001b[39m     \u001b[36mprotected\u001b[39m getHeaders()\u001b[33m:\u001b[39m \u001b[33mRecord\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m,\u001b[39m string\u001b[33m>\u001b[39m {\u001b[0m\n\n      at new OpenAIAdapter (src/main/models/APIAdapters.ts:243:42)\n      at Object.<anonymous> (src/__tests__/apiAdapters.test.ts:119:23)\n\n  ● API Adapters › OllamaAdapter › should not set authorization header\n\n    TypeError: Cannot read properties of undefined (reading 'Authorization')\n\n    \u001b[0m \u001b[90m 203 |\u001b[39m\n     \u001b[90m 204 |\u001b[39m         test(\u001b[32m'should not set authorization header'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 205 |\u001b[39m             expect(adapter[\u001b[32m'headers'\u001b[39m][\u001b[32m'Authorization'\u001b[39m])\u001b[33m.\u001b[39mtoBeUndefined()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 206 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 207 |\u001b[39m\n     \u001b[90m 208 |\u001b[39m         test(\u001b[32m'should handle streaming response'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/apiAdapters.test.ts:205:38)\n\n  ● API Adapters › OllamaAdapter › should handle streaming response\n\n    TypeError: response.json is not a function\n\n    \u001b[0m \u001b[90m 382 |\u001b[39m         }\n     \u001b[90m 383 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 384 |\u001b[39m         \u001b[36mconst\u001b[39m data \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mjson() \u001b[36mas\u001b[39m \u001b[33mOllamaResponse\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 385 |\u001b[39m\n     \u001b[90m 386 |\u001b[39m         \u001b[36mreturn\u001b[39m {\n     \u001b[90m 387 |\u001b[39m             content\u001b[33m:\u001b[39m data\u001b[33m.\u001b[39mresponse\u001b[33m,\u001b[39m\u001b[0m\n\n      at OllamaAdapter.sendMessage (src/main/models/APIAdapters.ts:384:37)\n      at Object.<anonymous> (src/__tests__/apiAdapters.test.ts:247:13)\n\n  ● API Adapters › OllamaAdapter › should fetch available models\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"llama2\"\n    Received: undefined\n\n    \u001b[0m \u001b[90m 271 |\u001b[39m             \u001b[36mconst\u001b[39m models \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m adapter\u001b[33m.\u001b[39mgetModels()\u001b[33m;\u001b[39m\n     \u001b[90m 272 |\u001b[39m             expect(models)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 273 |\u001b[39m             expect(models[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mid)\u001b[33m.\u001b[39mtoBe(\u001b[32m'llama2'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 274 |\u001b[39m             expect(models[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mcostPer1kInput)\u001b[33m.\u001b[39mtoBe(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 275 |\u001b[39m             expect(models[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mcostPer1kOutput)\u001b[33m.\u001b[39mtoBe(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 276 |\u001b[39m         })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/apiAdapters.test.ts:273:34)\n\n  ● API Adapters › ProviderRegistry › should initialize adapters based on API keys\n\n    expect(received).toBeInstanceOf(expected)\n\n    Matcher error: expected value must be a function\n\n    Expected has value: undefined\n\n    \u001b[0m \u001b[90m 293 |\u001b[39m\n     \u001b[90m 294 |\u001b[39m         test(\u001b[32m'should initialize adapters based on API keys'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 295 |\u001b[39m             expect(registry\u001b[33m.\u001b[39mgetAdapter(\u001b[32m'claude'\u001b[39m))\u001b[33m.\u001b[39mtoBeInstanceOf(\u001b[33mClaudeAdapter\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 296 |\u001b[39m             expect(registry\u001b[33m.\u001b[39mgetAdapter(\u001b[32m'openai'\u001b[39m))\u001b[33m.\u001b[39mtoBeInstanceOf(\u001b[33mOpenAIAdapter\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 297 |\u001b[39m             expect(registry\u001b[33m.\u001b[39mgetAdapter(\u001b[32m'ollama'\u001b[39m))\u001b[33m.\u001b[39mtoBeInstanceOf(\u001b[33mOllamaAdapter\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 298 |\u001b[39m         })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/apiAdapters.test.ts:295:51)\n\n  ● API Adapters › ProviderRegistry › should update API key and create adapter\n\n    TypeError: registry.updateApiKey is not a function\n\n    \u001b[0m \u001b[90m 304 |\u001b[39m\n     \u001b[90m 305 |\u001b[39m             \u001b[90m// Update key and check adapter is created\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 306 |\u001b[39m             registry\u001b[33m.\u001b[39mupdateApiKey(\u001b[32m'claude'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'new-key'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 307 |\u001b[39m             \u001b[36mconst\u001b[39m adapter \u001b[33m=\u001b[39m registry\u001b[33m.\u001b[39mgetAdapter(\u001b[32m'claude'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 308 |\u001b[39m             expect(adapter)\u001b[33m.\u001b[39mtoBeInstanceOf(\u001b[33mClaudeAdapter\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 309 |\u001b[39m             expect(adapter\u001b[33m!\u001b[39m[\u001b[32m'headers'\u001b[39m][\u001b[32m'x-api-key'\u001b[39m])\u001b[33m.\u001b[39mtoBe(\u001b[32m'new-key'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/apiAdapters.test.ts:306:22)\n\n  ● API Adapters › ProviderRegistry › should update Ollama endpoint\n\n    TypeError: registry.updateOllamaEndpoint is not a function\n\n    \u001b[0m \u001b[90m 311 |\u001b[39m\n     \u001b[90m 312 |\u001b[39m         test(\u001b[32m'should update Ollama endpoint'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 313 |\u001b[39m             registry\u001b[33m.\u001b[39mupdateOllamaEndpoint(\u001b[32m'http://custom:11434/api/chat'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 314 |\u001b[39m             \u001b[36mconst\u001b[39m adapter \u001b[33m=\u001b[39m registry\u001b[33m.\u001b[39mgetAdapter(\u001b[32m'ollama'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 315 |\u001b[39m             expect(adapter)\u001b[33m.\u001b[39mtoBeInstanceOf(\u001b[33mOllamaAdapter\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 316 |\u001b[39m             expect(adapter\u001b[33m!\u001b[39m[\u001b[32m'endpoint'\u001b[39m])\u001b[33m.\u001b[39mtoBe(\u001b[32m'http://custom:11434/api/chat'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/apiAdapters.test.ts:313:22)\n\n  ● API Adapters › ProviderRegistry › should test connection for provider\n\n    TypeError: registry.testConnection is not a function\n\n    \u001b[0m \u001b[90m 322 |\u001b[39m             } \u001b[36mas\u001b[39m any)\u001b[33m;\u001b[39m\n     \u001b[90m 323 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 324 |\u001b[39m             \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m registry\u001b[33m.\u001b[39mtestConnection(\u001b[32m'claude'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 325 |\u001b[39m             expect(result)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 326 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 327 |\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/apiAdapters.test.ts:324:43)\n","name":"D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\apiAdapters.test.ts","startTime":1750666671799,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["API Adapters Integration Tests","Provider Registry"],"duration":10,"failureDetails":[{}],"failureMessages":["Error: expect(received).toBeInstanceOf(expected)\n\nMatcher error: expected value must be a function\n\nExpected has value: undefined\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\integration\\apiAdapters.integration.test.ts:39:35)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"API Adapters Integration Tests Provider Registry should initialize with all adapters","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should initialize with all adapters"},{"ancestorTitles":["API Adapters Integration Tests","Provider Registry"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"API Adapters Integration Tests Provider Registry should return null for unknown provider","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return null for unknown provider"},{"ancestorTitles":["API Adapters Integration Tests","Provider Registry"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"API Adapters Integration Tests Provider Registry should update adapters when settings change","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should update adapters when settings change"},{"ancestorTitles":["API Adapters Integration Tests","Claude Adapter"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: APIAdapters_1.ClaudeAdapter is not a constructor\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\integration\\apiAdapters.integration.test.ts:70:23)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"API Adapters Integration Tests Claude Adapter should initialize with correct settings","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should initialize with correct settings"},{"ancestorTitles":["API Adapters Integration Tests","Claude Adapter"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: APIAdapters_1.ClaudeAdapter is not a constructor\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\integration\\apiAdapters.integration.test.ts:70:23)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"API Adapters Integration Tests Claude Adapter should format messages correctly","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should format messages correctly"},{"ancestorTitles":["API Adapters Integration Tests","Claude Adapter"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: APIAdapters_1.ClaudeAdapter is not a constructor\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\integration\\apiAdapters.integration.test.ts:70:23)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"API Adapters Integration Tests Claude Adapter should handle API errors gracefully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle API errors gracefully"},{"ancestorTitles":["API Adapters Integration Tests","OpenAI Adapter"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'apiKeys')\n    at new OpenAIAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\main\\models\\APIAdapters.ts:243:34)\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\integration\\apiAdapters.integration.test.ts:100:23)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"API Adapters Integration Tests OpenAI Adapter should initialize with correct settings","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should initialize with correct settings"},{"ancestorTitles":["API Adapters Integration Tests","OpenAI Adapter"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'apiKeys')\n    at new OpenAIAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\main\\models\\APIAdapters.ts:243:34)\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\integration\\apiAdapters.integration.test.ts:100:23)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"API Adapters Integration Tests OpenAI Adapter should format messages for OpenAI API","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should format messages for OpenAI API"},{"ancestorTitles":["API Adapters Integration Tests","Ollama Adapter"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'ollamaEndpoint')\n    at new OllamaAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\main\\models\\APIAdapters.ts:360:38)\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\integration\\apiAdapters.integration.test.ts:123:23)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"API Adapters Integration Tests Ollama Adapter should initialize with correct settings","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should initialize with correct settings"},{"ancestorTitles":["API Adapters Integration Tests","Ollama Adapter"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'ollamaEndpoint')\n    at new OllamaAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\main\\models\\APIAdapters.ts:360:38)\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\integration\\apiAdapters.integration.test.ts:123:23)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"API Adapters Integration Tests Ollama Adapter should use local endpoint","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should use local endpoint"},{"ancestorTitles":["API Adapters Integration Tests","Ollama Adapter"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'ollamaEndpoint')\n    at new OllamaAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\main\\models\\APIAdapters.ts:360:38)\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\integration\\apiAdapters.integration.test.ts:123:23)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"API Adapters Integration Tests Ollama Adapter should handle connection errors","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle connection errors"},{"ancestorTitles":["API Adapters Integration Tests","Provider Testing"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"API Adapters Integration Tests Provider Testing should test Claude provider availability","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should test Claude provider availability"},{"ancestorTitles":["API Adapters Integration Tests","Provider Testing"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"API Adapters Integration Tests Provider Testing should test OpenAI provider availability","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should test OpenAI provider availability"},{"ancestorTitles":["API Adapters Integration Tests","Provider Testing"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"API Adapters Integration Tests Provider Testing should test Ollama provider availability","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should test Ollama provider availability"},{"ancestorTitles":["API Adapters Integration Tests","Provider Testing"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"API Adapters Integration Tests Provider Testing should handle provider test failures","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle provider test failures"},{"ancestorTitles":["API Adapters Integration Tests","Model Listing"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"API Adapters Integration Tests Model Listing should get Claude models","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should get Claude models"},{"ancestorTitles":["API Adapters Integration Tests","Model Listing"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'filter')\n    at OpenAIAdapter.getModels (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\main\\models\\APIAdapters.ts:353:14)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at ProviderRegistry.getModels (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\main\\models\\APIAdapters.ts:517:16)\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\integration\\apiAdapters.integration.test.ts:205:28)"],"fullName":"API Adapters Integration Tests Model Listing should get OpenAI models","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should get OpenAI models"},{"ancestorTitles":["API Adapters Integration Tests","Model Listing"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"API Adapters Integration Tests Model Listing should get Ollama models","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should get Ollama models"},{"ancestorTitles":["API Adapters Integration Tests","Model Listing"],"duration":6,"failureDetails":[{"matcherResult":{"actual":["claude-3-opus-20240229","claude-3-sonnet-20240229","claude-3-haiku-20240307"],"expected":[],"message":"expect(received).toEqual(expected) // deep equality\n\n- Expected  - 1\n+ Received  + 5\n\n- Array []\n+ Array [\n+   \"claude-3-opus-20240229\",\n+   \"claude-3-sonnet-20240229\",\n+   \"claude-3-haiku-20240307\",\n+ ]","name":"toEqual","pass":false}}],"failureMessages":["Error: expect(received).toEqual(expected) // deep equality\n\n- Expected  - 1\n+ Received  + 5\n\n- Array []\n+ Array [\n+   \"claude-3-opus-20240229\",\n+   \"claude-3-sonnet-20240229\",\n+   \"claude-3-haiku-20240307\",\n+ ]\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\integration\\apiAdapters.integration.test.ts:228:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"API Adapters Integration Tests Model Listing should handle model listing errors","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle model listing errors"},{"ancestorTitles":["API Adapters Integration Tests","Stream Management"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"API Adapters Integration Tests Stream Management should manage active streams","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should manage active streams"},{"ancestorTitles":["API Adapters Integration Tests","Stream Management"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"API Adapters Integration Tests Stream Management should abort streams on request","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should abort streams on request"},{"ancestorTitles":["API Adapters Integration Tests","Error Recovery"],"duration":1,"failureDetails":[{"matcherResult":{"message":"expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 2\nReceived number of calls: 1","pass":false}}],"failureMessages":["Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 2\nReceived number of calls: 1\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\integration\\apiAdapters.integration.test.ts:262:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"API Adapters Integration Tests Error Recovery should retry failed requests","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should retry failed requests"},{"ancestorTitles":["API Adapters Integration Tests","Error Recovery"],"duration":1,"failureDetails":[{"matcherResult":{"message":"expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 3\nReceived number of calls: 1","pass":false}}],"failureMessages":["Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 3\nReceived number of calls: 1\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\integration\\apiAdapters.integration.test.ts:273:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"API Adapters Integration Tests Error Recovery should respect retry limits","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should respect retry limits"}],"endTime":1750666672950,"message":"  ● API Adapters Integration Tests › Provider Registry › should initialize with all adapters\n\n    expect(received).toBeInstanceOf(expected)\n\n    Matcher error: expected value must be a function\n\n    Expected has value: undefined\n\n    \u001b[0m \u001b[90m 37 |\u001b[39m             \u001b[36mconst\u001b[39m ollamaAdapter \u001b[33m=\u001b[39m providerRegistry\u001b[33m.\u001b[39mgetAdapter(\u001b[32m'ollama'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m             \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 39 |\u001b[39m             expect(claudeAdapter)\u001b[33m.\u001b[39mtoBeInstanceOf(\u001b[33mClaudeAdapter\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 40 |\u001b[39m             expect(openaiAdapter)\u001b[33m.\u001b[39mtoBeInstanceOf(\u001b[33mOpenAIAdapter\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 41 |\u001b[39m             expect(ollamaAdapter)\u001b[33m.\u001b[39mtoBeInstanceOf(\u001b[33mOllamaAdapter\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 42 |\u001b[39m         })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/integration/apiAdapters.integration.test.ts:39:35)\n\n  ● API Adapters Integration Tests › Claude Adapter › should initialize with correct settings\n\n    TypeError: APIAdapters_1.ClaudeAdapter is not a constructor\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m\n     \u001b[90m 69 |\u001b[39m         beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m             adapter \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mClaudeAdapter\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m             adapter\u001b[33m.\u001b[39mupdateSettings(mockSettings)\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/integration/apiAdapters.integration.test.ts:70:23)\n\n  ● API Adapters Integration Tests › Claude Adapter › should format messages correctly\n\n    TypeError: APIAdapters_1.ClaudeAdapter is not a constructor\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m\n     \u001b[90m 69 |\u001b[39m         beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m             adapter \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mClaudeAdapter\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m             adapter\u001b[33m.\u001b[39mupdateSettings(mockSettings)\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/integration/apiAdapters.integration.test.ts:70:23)\n\n  ● API Adapters Integration Tests › Claude Adapter › should handle API errors gracefully\n\n    TypeError: APIAdapters_1.ClaudeAdapter is not a constructor\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m\n     \u001b[90m 69 |\u001b[39m         beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m             adapter \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mClaudeAdapter\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m             adapter\u001b[33m.\u001b[39mupdateSettings(mockSettings)\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/integration/apiAdapters.integration.test.ts:70:23)\n\n  ● API Adapters Integration Tests › OpenAI Adapter › should initialize with correct settings\n\n    TypeError: Cannot read properties of undefined (reading 'apiKeys')\n\n    \u001b[0m \u001b[90m 241 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mclass\u001b[39m \u001b[33mOpenAIAdapter\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mBaseAPIAdapter\u001b[39m {\n     \u001b[90m 242 |\u001b[39m     constructor(settings\u001b[33m:\u001b[39m \u001b[33mSettings\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 243 |\u001b[39m         \u001b[36msuper\u001b[39m(\u001b[32m'openai'\u001b[39m\u001b[33m,\u001b[39m settings\u001b[33m.\u001b[39mapiKeys\u001b[33m.\u001b[39mopenai\u001b[33m,\u001b[39m \u001b[32m'https://api.openai.com/v1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 244 |\u001b[39m     }\n     \u001b[90m 245 |\u001b[39m\n     \u001b[90m 246 |\u001b[39m     \u001b[36mprotected\u001b[39m getHeaders()\u001b[33m:\u001b[39m \u001b[33mRecord\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m,\u001b[39m string\u001b[33m>\u001b[39m {\u001b[0m\n\n      at new OpenAIAdapter (src/main/models/APIAdapters.ts:243:34)\n      at Object.<anonymous> (src/__tests__/integration/apiAdapters.integration.test.ts:100:23)\n\n  ● API Adapters Integration Tests › OpenAI Adapter › should format messages for OpenAI API\n\n    TypeError: Cannot read properties of undefined (reading 'apiKeys')\n\n    \u001b[0m \u001b[90m 241 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mclass\u001b[39m \u001b[33mOpenAIAdapter\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mBaseAPIAdapter\u001b[39m {\n     \u001b[90m 242 |\u001b[39m     constructor(settings\u001b[33m:\u001b[39m \u001b[33mSettings\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 243 |\u001b[39m         \u001b[36msuper\u001b[39m(\u001b[32m'openai'\u001b[39m\u001b[33m,\u001b[39m settings\u001b[33m.\u001b[39mapiKeys\u001b[33m.\u001b[39mopenai\u001b[33m,\u001b[39m \u001b[32m'https://api.openai.com/v1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 244 |\u001b[39m     }\n     \u001b[90m 245 |\u001b[39m\n     \u001b[90m 246 |\u001b[39m     \u001b[36mprotected\u001b[39m getHeaders()\u001b[33m:\u001b[39m \u001b[33mRecord\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m,\u001b[39m string\u001b[33m>\u001b[39m {\u001b[0m\n\n      at new OpenAIAdapter (src/main/models/APIAdapters.ts:243:34)\n      at Object.<anonymous> (src/__tests__/integration/apiAdapters.integration.test.ts:100:23)\n\n  ● API Adapters Integration Tests › Ollama Adapter › should initialize with correct settings\n\n    TypeError: Cannot read properties of undefined (reading 'ollamaEndpoint')\n\n    \u001b[0m \u001b[90m 358 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mclass\u001b[39m \u001b[33mOllamaAdapter\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mBaseAPIAdapter\u001b[39m {\n     \u001b[90m 359 |\u001b[39m     constructor(settings\u001b[33m:\u001b[39m \u001b[33mSettings\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 360 |\u001b[39m         \u001b[36msuper\u001b[39m(\u001b[32m'ollama'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m''\u001b[39m\u001b[33m,\u001b[39m settings\u001b[33m.\u001b[39mollamaEndpoint \u001b[33m||\u001b[39m \u001b[32m'http://localhost:11434'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 361 |\u001b[39m     }\n     \u001b[90m 362 |\u001b[39m\n     \u001b[90m 363 |\u001b[39m     \u001b[36mprotected\u001b[39m getHeaders()\u001b[33m:\u001b[39m \u001b[33mRecord\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m,\u001b[39m string\u001b[33m>\u001b[39m {\u001b[0m\n\n      at new OllamaAdapter (src/main/models/APIAdapters.ts:360:38)\n      at Object.<anonymous> (src/__tests__/integration/apiAdapters.integration.test.ts:123:23)\n\n  ● API Adapters Integration Tests › Ollama Adapter › should use local endpoint\n\n    TypeError: Cannot read properties of undefined (reading 'ollamaEndpoint')\n\n    \u001b[0m \u001b[90m 358 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mclass\u001b[39m \u001b[33mOllamaAdapter\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mBaseAPIAdapter\u001b[39m {\n     \u001b[90m 359 |\u001b[39m     constructor(settings\u001b[33m:\u001b[39m \u001b[33mSettings\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 360 |\u001b[39m         \u001b[36msuper\u001b[39m(\u001b[32m'ollama'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m''\u001b[39m\u001b[33m,\u001b[39m settings\u001b[33m.\u001b[39mollamaEndpoint \u001b[33m||\u001b[39m \u001b[32m'http://localhost:11434'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 361 |\u001b[39m     }\n     \u001b[90m 362 |\u001b[39m\n     \u001b[90m 363 |\u001b[39m     \u001b[36mprotected\u001b[39m getHeaders()\u001b[33m:\u001b[39m \u001b[33mRecord\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m,\u001b[39m string\u001b[33m>\u001b[39m {\u001b[0m\n\n      at new OllamaAdapter (src/main/models/APIAdapters.ts:360:38)\n      at Object.<anonymous> (src/__tests__/integration/apiAdapters.integration.test.ts:123:23)\n\n  ● API Adapters Integration Tests › Ollama Adapter › should handle connection errors\n\n    TypeError: Cannot read properties of undefined (reading 'ollamaEndpoint')\n\n    \u001b[0m \u001b[90m 358 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mclass\u001b[39m \u001b[33mOllamaAdapter\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mBaseAPIAdapter\u001b[39m {\n     \u001b[90m 359 |\u001b[39m     constructor(settings\u001b[33m:\u001b[39m \u001b[33mSettings\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 360 |\u001b[39m         \u001b[36msuper\u001b[39m(\u001b[32m'ollama'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m''\u001b[39m\u001b[33m,\u001b[39m settings\u001b[33m.\u001b[39mollamaEndpoint \u001b[33m||\u001b[39m \u001b[32m'http://localhost:11434'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 361 |\u001b[39m     }\n     \u001b[90m 362 |\u001b[39m\n     \u001b[90m 363 |\u001b[39m     \u001b[36mprotected\u001b[39m getHeaders()\u001b[33m:\u001b[39m \u001b[33mRecord\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m,\u001b[39m string\u001b[33m>\u001b[39m {\u001b[0m\n\n      at new OllamaAdapter (src/main/models/APIAdapters.ts:360:38)\n      at Object.<anonymous> (src/__tests__/integration/apiAdapters.integration.test.ts:123:23)\n\n  ● API Adapters Integration Tests › Model Listing › should get OpenAI models\n\n    TypeError: Cannot read properties of undefined (reading 'filter')\n\n    \u001b[0m \u001b[90m 351 |\u001b[39m         \u001b[36mconst\u001b[39m data \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mjson() \u001b[36mas\u001b[39m { data\u001b[33m:\u001b[39m \u001b[33mArray\u001b[39m\u001b[33m<\u001b[39m{ id\u001b[33m:\u001b[39m string }\u001b[33m>\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 352 |\u001b[39m         \u001b[36mreturn\u001b[39m data\u001b[33m.\u001b[39mdata\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 353 |\u001b[39m             \u001b[33m.\u001b[39mfilter(model \u001b[33m=>\u001b[39m model\u001b[33m.\u001b[39mid\u001b[33m.\u001b[39mstartsWith(\u001b[32m'gpt'\u001b[39m))\n     \u001b[90m     |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 354 |\u001b[39m             \u001b[33m.\u001b[39mmap(model \u001b[33m=>\u001b[39m model\u001b[33m.\u001b[39mid)\u001b[33m;\u001b[39m\n     \u001b[90m 355 |\u001b[39m     }\n     \u001b[90m 356 |\u001b[39m }\u001b[0m\n\n      at OpenAIAdapter.getModels (src/main/models/APIAdapters.ts:353:14)\n      at ProviderRegistry.getModels (src/main/models/APIAdapters.ts:517:16)\n      at Object.<anonymous> (src/__tests__/integration/apiAdapters.integration.test.ts:205:28)\n\n  ● API Adapters Integration Tests › Model Listing › should handle model listing errors\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 5\n\n    - Array []\n    + Array [\n    +   \"claude-3-opus-20240229\",\n    +   \"claude-3-sonnet-20240229\",\n    +   \"claude-3-haiku-20240307\",\n    + ]\n\n    \u001b[0m \u001b[90m 226 |\u001b[39m\n     \u001b[90m 227 |\u001b[39m             \u001b[36mconst\u001b[39m models \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m providerRegistry\u001b[33m.\u001b[39mgetModels(\u001b[32m'claude'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 228 |\u001b[39m             expect(models)\u001b[33m.\u001b[39mtoEqual([])\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 229 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 230 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 231 |\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/integration/apiAdapters.integration.test.ts:228:28)\n\n  ● API Adapters Integration Tests › Error Recovery › should retry failed requests\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 2\n    Received number of calls: 1\n\n    \u001b[0m \u001b[90m 260 |\u001b[39m             \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m providerRegistry\u001b[33m.\u001b[39mtestProvider(\u001b[32m'claude'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 261 |\u001b[39m             expect(result)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 262 |\u001b[39m             expect(fetch)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 263 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 264 |\u001b[39m\n     \u001b[90m 265 |\u001b[39m         test(\u001b[32m'should respect retry limits'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/integration/apiAdapters.integration.test.ts:262:27)\n\n  ● API Adapters Integration Tests › Error Recovery › should respect retry limits\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 3\n    Received number of calls: 1\n\n    \u001b[0m \u001b[90m 271 |\u001b[39m             \n     \u001b[90m 272 |\u001b[39m             \u001b[90m// Should have tried the configured number of times\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 273 |\u001b[39m             expect(fetch)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(mockSettings\u001b[33m.\u001b[39mretryAttempts)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 274 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 275 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 276 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/integration/apiAdapters.integration.test.ts:273:27)\n","name":"D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\integration\\apiAdapters.integration.test.ts","startTime":1750666671797,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["JsonDatabase","Conversation Operations"],"duration":26,"failureDetails":[],"failureMessages":[],"fullName":"JsonDatabase Conversation Operations should create a new conversation","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should create a new conversation"},{"ancestorTitles":["JsonDatabase","Conversation Operations"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"JsonDatabase Conversation Operations should create conversation with default title","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should create conversation with default title"},{"ancestorTitles":["JsonDatabase","Conversation Operations"],"duration":49,"failureDetails":[],"failureMessages":[],"fullName":"JsonDatabase Conversation Operations should retrieve a conversation by id","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should retrieve a conversation by id"},{"ancestorTitles":["JsonDatabase","Conversation Operations"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"JsonDatabase Conversation Operations should return null for non-existent conversation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return null for non-existent conversation"},{"ancestorTitles":["JsonDatabase","Conversation Operations"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"JsonDatabase Conversation Operations should list conversations","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should list conversations"},{"ancestorTitles":["JsonDatabase","Conversation Operations"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"JsonDatabase Conversation Operations should update conversation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should update conversation"},{"ancestorTitles":["JsonDatabase","Conversation Operations"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"JsonDatabase Conversation Operations should delete conversation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should delete conversation"},{"ancestorTitles":["JsonDatabase","Message Operations"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"JsonDatabase Message Operations should create a message","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should create a message"},{"ancestorTitles":["JsonDatabase","Message Operations"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"JsonDatabase Message Operations should retrieve messages for a conversation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should retrieve messages for a conversation"},{"ancestorTitles":["JsonDatabase","Message Operations"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"JsonDatabase Message Operations should get single message by id","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should get single message by id"},{"ancestorTitles":["JsonDatabase","Message Operations"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"JsonDatabase Message Operations should update message","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should update message"},{"ancestorTitles":["JsonDatabase","Message Operations"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"JsonDatabase Message Operations should delete message","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should delete message"},{"ancestorTitles":["JsonDatabase","Settings Operations"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"JsonDatabase Settings Operations should get default settings","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should get default settings"},{"ancestorTitles":["JsonDatabase","Settings Operations"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"JsonDatabase Settings Operations should update settings","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should update settings"},{"ancestorTitles":["JsonDatabase","Search Operations"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"JsonDatabase Search Operations should search messages by content","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should search messages by content"},{"ancestorTitles":["JsonDatabase","Search Operations"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"JsonDatabase Search Operations should search conversations by title","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should search conversations by title"},{"ancestorTitles":["JsonDatabase","Usage Statistics"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"JsonDatabase Usage Statistics should calculate usage statistics","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should calculate usage statistics"}],"endTime":1750666673009,"message":"","name":"D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\jsonDatabase.test.ts","startTime":1750666671851,"status":"passed","summary":""},{"assertionResults":[],"coverage":{},"endTime":1750666683318,"message":"  ● Test suite failed to run\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     • If you need a custom transformation specify a \"transform\" option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\react-markdown\\index.js:9\n    export {\n    ^^^^^^\n\n    SyntaxError: Unexpected token 'export'\n\n    \u001b[0m \u001b[90m 12 |\u001b[39m \u001b[36mimport\u001b[39m { observer } \u001b[36mfrom\u001b[39m \u001b[32m'mobx-react-lite'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 13 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mFixedSizeList\u001b[39m \u001b[36mas\u001b[39m \u001b[33mList\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'react-window'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 14 |\u001b[39m \u001b[36mimport\u001b[39m \u001b[33mReactMarkdown\u001b[39m \u001b[36mfrom\u001b[39m \u001b[32m'react-markdown'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 15 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mPrism\u001b[39m \u001b[36mas\u001b[39m \u001b[33mSyntaxHighlighter\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'react-syntax-highlighter'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 16 |\u001b[39m \u001b[36mimport\u001b[39m { vscDarkPlus } \u001b[36mfrom\u001b[39m \u001b[32m'react-syntax-highlighter/dist/esm/styles/prism'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 17 |\u001b[39m \u001b[36mimport\u001b[39m remarkGfm \u001b[36mfrom\u001b[39m \u001b[32m'remark-gfm'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Runtime.createScriptFromCode (node_modules/jest-runtime/build/index.js:1505:14)\n      at Object.<anonymous> (src/renderer/components/MessageArea.tsx:14:1)\n      at Object.<anonymous> (src/__tests__/components.test.tsx:4:1)\n","name":"D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\components.test.tsx","startTime":1750666683318,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Database","Conversation Operations"],"duration":74,"failureDetails":[],"failureMessages":[],"fullName":"Database Conversation Operations should create a new conversation","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should create a new conversation"},{"ancestorTitles":["Database","Conversation Operations"],"duration":11,"failureDetails":[{"errno":-4048,"code":"EPERM","syscall":"unlink","path":"D:\\tmp\\test-electron\\claude-desktop-test.json"}],"failureMessages":["Error: EPERM: operation not permitted, unlink 'D:\\tmp\\test-electron\\claude-desktop-test.json'\n    at Object.unlinkSync (node:fs:1935:11)\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\database.test.ts:41:16)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:254:5)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Database Conversation Operations should create conversation with default title","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should create conversation with default title"},{"ancestorTitles":["Database","Conversation Operations"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Database Conversation Operations should retrieve a conversation by id","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should retrieve a conversation by id"},{"ancestorTitles":["Database","Conversation Operations"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Database Conversation Operations should return null for non-existent conversation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return null for non-existent conversation"},{"ancestorTitles":["Database","Conversation Operations"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"Database Conversation Operations should list conversations with pagination","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should list conversations with pagination"},{"ancestorTitles":["Database","Conversation Operations"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"Database Conversation Operations should list conversations in descending order by update time","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should list conversations in descending order by update time"},{"ancestorTitles":["Database","Conversation Operations"],"duration":69,"failureDetails":[{"matcherResult":{"expected":"Updated Title","message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: \"Updated Title\"\nReceived: undefined","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"Updated Title\"\nReceived: undefined\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\database.test.ts:114:35)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Database Conversation Operations should update conversation","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should update conversation"},{"ancestorTitles":["Database","Conversation Operations"],"duration":3,"failureDetails":[{"matcherResult":{"message":"expect(received).toThrow(expected)\n\nExpected substring: \"Conversation non-existent not found\"\n\nReceived function did not throw","pass":false}}],"failureMessages":["Error: expect(received).toThrow(expected)\n\nExpected substring: \"Conversation non-existent not found\"\n\nReceived function did not throw\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\database.test.ts:123:16)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Database Conversation Operations should throw error when updating non-existent conversation","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should throw error when updating non-existent conversation"},{"ancestorTitles":["Database","Conversation Operations"],"duration":4,"failureDetails":[{"matcherResult":{"message":"expect(received).toBeNull()\n\nReceived: {}","pass":false}}],"failureMessages":["Error: expect(received).toBeNull()\n\nReceived: {}\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\database.test.ts:144:31)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Database Conversation Operations should delete conversation and associated messages","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should delete conversation and associated messages"},{"ancestorTitles":["Database","Message Operations"],"duration":3,"failureDetails":[{}],"failureMessages":["Error: expect(received).toContain(expected) // indexOf\n\nMatcher error: received value must not be null nor undefined\n\nReceived has value: undefined\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\database.test.ts:178:45)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Database Message Operations should create a message","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"failed","title":"should create a message"},{"ancestorTitles":["Database","Message Operations"],"duration":3,"failureDetails":[{"matcherResult":{"actual":0,"expected":2,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: 2\nReceived: 0","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 2\nReceived: 0\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\database.test.ts:208:37)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Database Message Operations should retrieve messages for a conversation","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should retrieve messages for a conversation"},{"ancestorTitles":["Database","Message Operations"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Database Message Operations should get single message by id","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should get single message by id"},{"ancestorTitles":["Database","Message Operations"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Database Message Operations should return null for non-existent message","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return null for non-existent message"},{"ancestorTitles":["Database","Message Operations"],"duration":3,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'content')\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\database.test.ts:254:28)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Database Message Operations should update message content and tokens","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should update message content and tokens"},{"ancestorTitles":["Database","Message Operations"],"duration":20,"failureDetails":[{"matcherResult":{"message":"expect(received).toThrow(expected)\n\nExpected substring: \"Message non-existent not found\"\nReceived message:   \"Message not found\"\n\n    \u001b[0m \u001b[90m 300 |\u001b[39m         \u001b[36mconst\u001b[39m message \u001b[33m=\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mmessages[messageId]\u001b[33m;\u001b[39m\n     \u001b[90m 301 |\u001b[39m         \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mmessage) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 302 |\u001b[39m             \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDatabaseError\u001b[39m(\u001b[32m'Message not found'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'update'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 303 |\u001b[39m         }\n     \u001b[90m 304 |\u001b[39m\n     \u001b[90m 305 |\u001b[39m         \u001b[36mif\u001b[39m (updates\u001b[33m.\u001b[39mcontent \u001b[33m!==\u001b[39m undefined) message\u001b[33m.\u001b[39mcontent \u001b[33m=\u001b[39m updates\u001b[33m.\u001b[39mcontent\u001b[33m;\u001b[39m\u001b[0m\n\n      at Database.updateMessage (src/main/models/JsonDatabase.ts:302:19)\n      at src/__tests__/database.test.ts:266:20\n      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:74:11)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:21)\n      at Object.<anonymous> (src/__tests__/database.test.ts:267:16)","pass":false}}],"failureMessages":["Error: expect(received).toThrow(expected)\n\nExpected substring: \"Message non-existent not found\"\nReceived message:   \"Message not found\"\n\n    \u001b[0m \u001b[90m 300 |\u001b[39m         \u001b[36mconst\u001b[39m message \u001b[33m=\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mmessages[messageId]\u001b[33m;\u001b[39m\n     \u001b[90m 301 |\u001b[39m         \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mmessage) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 302 |\u001b[39m             \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDatabaseError\u001b[39m(\u001b[32m'Message not found'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'update'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 303 |\u001b[39m         }\n     \u001b[90m 304 |\u001b[39m\n     \u001b[90m 305 |\u001b[39m         \u001b[36mif\u001b[39m (updates\u001b[33m.\u001b[39mcontent \u001b[33m!==\u001b[39m undefined) message\u001b[33m.\u001b[39mcontent \u001b[33m=\u001b[39m updates\u001b[33m.\u001b[39mcontent\u001b[33m;\u001b[39m\u001b[0m\n\n      at Database.updateMessage (src/main/models/JsonDatabase.ts:302:19)\n      at src/__tests__/database.test.ts:266:20\n      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:74:11)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:21)\n      at Object.<anonymous> (src/__tests__/database.test.ts:267:16)\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\database.test.ts:267:16)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Database Message Operations should throw error when updating non-existent message","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should throw error when updating non-existent message"},{"ancestorTitles":["Database","Message Operations"],"duration":5,"failureDetails":[{}],"failureMessages":["Error: expect(received).not.toContain(expected) // indexOf\n\nMatcher error: received value must not be null nor undefined\n\nReceived has value: undefined\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\database.test.ts:288:42)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Database Message Operations should delete message and update conversation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should delete message and update conversation"},{"ancestorTitles":["Database","Message Operations"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Database Message Operations should handle deleting non-existent message gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle deleting non-existent message gracefully"},{"ancestorTitles":["Database","Settings Operations"],"duration":4,"failureDetails":[{"matcherResult":{"actual":"claude-3-sonnet-20240229","expected":"claude-3-opus-20240229","message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: \"claude-3-opus-20240229\"\nReceived: \"claude-3-sonnet-20240229\"","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"claude-3-opus-20240229\"\nReceived: \"claude-3-sonnet-20240229\"\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\database.test.ts:306:36)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Database Settings Operations should initialize default settings","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"failed","title":"should initialize default settings"},{"ancestorTitles":["Database","Settings Operations"],"duration":2,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'provider')\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\database.test.ts:320:28)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Database Settings Operations should update settings","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should update settings"},{"ancestorTitles":["Database","Settings Operations"],"duration":2,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'temperature')\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\database.test.ts:337:28)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Database Settings Operations should merge partial settings updates","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should merge partial settings updates"},{"ancestorTitles":["Database","Search Operations"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Database Search Operations should search messages by content","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should search messages by content"},{"ancestorTitles":["Database","Search Operations"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Database Search Operations should return empty array for no matches","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return empty array for no matches"},{"ancestorTitles":["Database","Search Operations"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"Database Search Operations should limit search results","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should limit search results"},{"ancestorTitles":["Database","Usage Statistics"],"duration":4,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'claude')\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\database.test.ts:463:37)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Database Usage Statistics should calculate usage statistics","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"failed","title":"should calculate usage statistics"},{"ancestorTitles":["Database","Usage Statistics"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: Cannot convert undefined or null to object\n    at Object.keys (<anonymous>)\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\database.test.ts:485:27)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Database Usage Statistics should handle empty statistics","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"failed","title":"should handle empty statistics"},{"ancestorTitles":["Database","Import/Export Operations"],"duration":2,"failureDetails":[{}],"failureMessages":["TypeError: db.exportConversation is not a function\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\database.test.ts:516:33)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Database Import/Export Operations should export conversation with messages","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should export conversation with messages"},{"ancestorTitles":["Database","Import/Export Operations"],"duration":6,"failureDetails":[{"matcherResult":{"message":"expect(received).toThrow(expected)\n\nExpected substring: \"Conversation non-existent not found\"\nReceived message:   \"db.exportConversation is not a function\"\n\n    \u001b[0m \u001b[90m 524 |\u001b[39m         test(\u001b[32m'should throw error when exporting non-existent conversation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 525 |\u001b[39m             expect(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 526 |\u001b[39m                 db\u001b[33m.\u001b[39mexportConversation(\u001b[32m'non-existent'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 527 |\u001b[39m             })\u001b[33m.\u001b[39mtoThrow(\u001b[32m'Conversation non-existent not found'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 528 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 529 |\u001b[39m\u001b[0m\n\n      at src/__tests__/database.test.ts:526:20\n      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:74:11)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:21)\n      at Object.<anonymous> (src/__tests__/database.test.ts:527:16)","pass":false}}],"failureMessages":["Error: expect(received).toThrow(expected)\n\nExpected substring: \"Conversation non-existent not found\"\nReceived message:   \"db.exportConversation is not a function\"\n\n    \u001b[0m \u001b[90m 524 |\u001b[39m         test(\u001b[32m'should throw error when exporting non-existent conversation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 525 |\u001b[39m             expect(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 526 |\u001b[39m                 db\u001b[33m.\u001b[39mexportConversation(\u001b[32m'non-existent'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 527 |\u001b[39m             })\u001b[33m.\u001b[39mtoThrow(\u001b[32m'Conversation non-existent not found'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 528 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 529 |\u001b[39m\u001b[0m\n\n      at src/__tests__/database.test.ts:526:20\n      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:74:11)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:21)\n      at Object.<anonymous> (src/__tests__/database.test.ts:527:16)\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\database.test.ts:527:16)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Database Import/Export Operations should throw error when exporting non-existent conversation","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should throw error when exporting non-existent conversation"},{"ancestorTitles":["Database","Import/Export Operations"],"duration":3,"failureDetails":[{}],"failureMessages":["TypeError: db.exportConversation is not a function\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\database.test.ts:544:33)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Database Import/Export Operations should import conversation with new IDs","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should import conversation with new IDs"},{"ancestorTitles":["Database","Import/Export Operations"],"duration":3,"failureDetails":[{}],"failureMessages":["TypeError: db.exportConversation is not a function\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\database.test.ts:582:33)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Database Import/Export Operations should preserve message order during import","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should preserve message order during import"},{"ancestorTitles":["Database","Event Emissions"],"duration":10005,"failureDetails":[{"operation":"update","name":"DatabaseError"},{"operation":"update","name":"DatabaseError"},{"operation":"update","name":"DatabaseError"},{"message":"thrown: \"Exceeded timeout of 10000 ms for a test while waiting for `done()` to be called.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\""}],"failureMessages":["DatabaseError: Conversation not found\n    at Database.updateConversation (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\main\\models\\JsonDatabase.ts:202:19)\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\database.test.ts:108:32)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","DatabaseError: Conversation not found\n    at Database.updateConversation (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\main\\models\\JsonDatabase.ts:202:19)\n    at D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\database.test.ts:122:20\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\expect\\build\\toThrowMatchers.js:74:11)\n    at Object.throwingMatcher [as toThrow] (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\expect\\build\\index.js:320:21)\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\database.test.ts:123:16)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","DatabaseError: Conversation not found\n    at Database.updateConversation (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\main\\models\\JsonDatabase.ts:202:19)\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\database.test.ts:631:16)\n    at Promise.then.completed (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:290:26)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","Error: thrown: \"Exceeded timeout of 10000 ms for a test while waiting for `done()` to be called.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n    at D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\database.test.ts:594:9\n    at _dispatchDescribe (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\index.js:91:26)\n    at describe (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\index.js:55:5)\n    at D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\database.test.ts:593:5\n    at _dispatchDescribe (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\index.js:91:26)\n    at describe (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\index.js:55:5)\n    at Object.<anonymous> (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\database.test.ts:18:1)\n    at Runtime._execModule (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runtime\\build\\index.js:1439:24)\n    at Runtime._loadModule (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runtime\\build\\index.js:1022:12)\n    at Runtime.requireModule (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runtime\\build\\index.js:882:12)\n    at jestAdapter (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:77:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTestInternal (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Database Event Emissions should emit events on operations","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"failed","title":"should emit events on operations"},{"ancestorTitles":["Database","Database Lifecycle"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Database Database Lifecycle should handle vacuum operation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle vacuum operation"},{"ancestorTitles":["Database","Database Lifecycle"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Database Database Lifecycle should handle close operation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle close operation"}],"endTime":1750666683269,"message":"  ● Database › Conversation Operations › should create conversation with default title\n\n    EPERM: operation not permitted, unlink 'D:\\tmp\\test-electron\\claude-desktop-test.json'\n\n    \u001b[0m \u001b[90m 39 |\u001b[39m         \u001b[90m// Clean up test database\u001b[39m\n     \u001b[90m 40 |\u001b[39m         \u001b[36mif\u001b[39m (fs\u001b[33m.\u001b[39mexistsSync(testDbPath)) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 41 |\u001b[39m             fs\u001b[33m.\u001b[39munlinkSync(testDbPath)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 42 |\u001b[39m         }\n     \u001b[90m 43 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 44 |\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/database.test.ts:41:16)\n\n  ● Database › Conversation Operations › should update conversation\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Updated Title\"\n    Received: undefined\n\n    \u001b[0m \u001b[90m 112 |\u001b[39m             })\u001b[33m;\u001b[39m\n     \u001b[90m 113 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 114 |\u001b[39m             expect(updated\u001b[33m.\u001b[39mtitle)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Updated Title'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 115 |\u001b[39m             expect(updated\u001b[33m.\u001b[39mtotalTokens)\u001b[33m.\u001b[39mtoBe(\u001b[35m100\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 116 |\u001b[39m             expect(updated\u001b[33m.\u001b[39mestimatedCost)\u001b[33m.\u001b[39mtoBe(\u001b[35m0.05\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 117 |\u001b[39m             expect(updated\u001b[33m.\u001b[39mupdatedAt\u001b[33m.\u001b[39mgetTime())\u001b[33m.\u001b[39mtoBeGreaterThanOrEqual(originalUpdatedAt\u001b[33m.\u001b[39mgetTime())\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/database.test.ts:114:35)\n\n  ● Database › Conversation Operations › should throw error when updating non-existent conversation\n\n    expect(received).toThrow(expected)\n\n    Expected substring: \"Conversation non-existent not found\"\n\n    Received function did not throw\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m             expect(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 122 |\u001b[39m                 db\u001b[33m.\u001b[39mupdateConversation(\u001b[32m'non-existent'\u001b[39m\u001b[33m,\u001b[39m { title\u001b[33m:\u001b[39m \u001b[32m'New Title'\u001b[39m })\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m             })\u001b[33m.\u001b[39mtoThrow(\u001b[32m'Conversation non-existent not found'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m\n     \u001b[90m 126 |\u001b[39m         test(\u001b[32m'should delete conversation and associated messages'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/database.test.ts:123:16)\n\n  ● Database › Conversation Operations › should delete conversation and associated messages\n\n    expect(received).toBeNull()\n\n    Received: {}\n\n    \u001b[0m \u001b[90m 142 |\u001b[39m\n     \u001b[90m 143 |\u001b[39m             \u001b[36mconst\u001b[39m retrieved \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39mgetConversation(conversation\u001b[33m.\u001b[39mid)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 144 |\u001b[39m             expect(retrieved)\u001b[33m.\u001b[39mtoBeNull()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 145 |\u001b[39m\n     \u001b[90m 146 |\u001b[39m             \u001b[36mconst\u001b[39m messages \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39mgetMessages(conversation\u001b[33m.\u001b[39mid)\u001b[33m;\u001b[39m\n     \u001b[90m 147 |\u001b[39m             expect(messages\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39mtoBe(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/database.test.ts:144:31)\n\n  ● Database › Message Operations › should create a message\n\n    expect(received).toContain(expected) // indexOf\n\n    Matcher error: received value must not be null nor undefined\n\n    Received has value: undefined\n\n    \u001b[0m \u001b[90m 176 |\u001b[39m             \u001b[90m// Check conversation was updated\u001b[39m\n     \u001b[90m 177 |\u001b[39m             \u001b[36mconst\u001b[39m updatedConv \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39mgetConversation(conversation\u001b[33m.\u001b[39mid)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 178 |\u001b[39m             expect(updatedConv\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mmessageIds)\u001b[33m.\u001b[39mtoContain(message\u001b[33m.\u001b[39mid)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 179 |\u001b[39m             expect(updatedConv\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mtotalTokens)\u001b[33m.\u001b[39mtoBe(\u001b[35m5\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 180 |\u001b[39m             expect(updatedConv\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mestimatedCost)\u001b[33m.\u001b[39mtoBe(\u001b[35m0.001\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 181 |\u001b[39m         })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/database.test.ts:178:45)\n\n  ● Database › Message Operations › should retrieve messages for a conversation\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 2\n    Received: 0\n\n    \u001b[0m \u001b[90m 206 |\u001b[39m\n     \u001b[90m 207 |\u001b[39m             \u001b[36mconst\u001b[39m messages \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39mgetMessages(conversation\u001b[33m.\u001b[39mid)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 208 |\u001b[39m             expect(messages\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39mtoBe(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 209 |\u001b[39m             \u001b[90m// Should be ordered by timestamp ascending\u001b[39m\n     \u001b[90m 210 |\u001b[39m             expect(messages[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mid)\u001b[33m.\u001b[39mtoBe(msg1\u001b[33m.\u001b[39mid)\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m             expect(messages[\u001b[35m1\u001b[39m]\u001b[33m.\u001b[39mid)\u001b[33m.\u001b[39mtoBe(msg2\u001b[33m.\u001b[39mid)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/database.test.ts:208:37)\n\n  ● Database › Message Operations › should update message content and tokens\n\n    TypeError: Cannot read properties of undefined (reading 'content')\n\n    \u001b[0m \u001b[90m 252 |\u001b[39m             })\u001b[33m;\u001b[39m\n     \u001b[90m 253 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 254 |\u001b[39m             expect(updated\u001b[33m.\u001b[39mcontent)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Updated response'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 255 |\u001b[39m             expect(updated\u001b[33m.\u001b[39mtokenCount)\u001b[33m.\u001b[39mtoBe(\u001b[35m15\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 256 |\u001b[39m             expect(updated\u001b[33m.\u001b[39mcost)\u001b[33m.\u001b[39mtoBe(\u001b[35m0.015\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 257 |\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/database.test.ts:254:28)\n\n  ● Database › Message Operations › should throw error when updating non-existent message\n\n    expect(received).toThrow(expected)\n\n    Expected substring: \"Message non-existent not found\"\n    Received message:   \"Message not found\"\n\n        \u001b[0m \u001b[90m 300 |\u001b[39m         \u001b[36mconst\u001b[39m message \u001b[33m=\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mmessages[messageId]\u001b[33m;\u001b[39m\n         \u001b[90m 301 |\u001b[39m         \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mmessage) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 302 |\u001b[39m             \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDatabaseError\u001b[39m(\u001b[32m'Message not found'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'update'\u001b[39m)\u001b[33m;\u001b[39m\n         \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 303 |\u001b[39m         }\n         \u001b[90m 304 |\u001b[39m\n         \u001b[90m 305 |\u001b[39m         \u001b[36mif\u001b[39m (updates\u001b[33m.\u001b[39mcontent \u001b[33m!==\u001b[39m undefined) message\u001b[33m.\u001b[39mcontent \u001b[33m=\u001b[39m updates\u001b[33m.\u001b[39mcontent\u001b[33m;\u001b[39m\u001b[0m\n\n      at Database.updateMessage (src/main/models/JsonDatabase.ts:302:19)\n      at src/__tests__/database.test.ts:266:20\n      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:74:11)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:21)\n      at Object.<anonymous> (src/__tests__/database.test.ts:267:16)\n      at Object.<anonymous> (src/__tests__/database.test.ts:267:16)\n\n  ● Database › Message Operations › should delete message and update conversation\n\n    expect(received).not.toContain(expected) // indexOf\n\n    Matcher error: received value must not be null nor undefined\n\n    Received has value: undefined\n\n    \u001b[0m \u001b[90m 286 |\u001b[39m\n     \u001b[90m 287 |\u001b[39m             \u001b[36mconst\u001b[39m conv \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39mgetConversation(conversation\u001b[33m.\u001b[39mid)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 288 |\u001b[39m             expect(conv\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mmessageIds)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoContain(message\u001b[33m.\u001b[39mid)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 289 |\u001b[39m             expect(conv\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mtotalTokens)\u001b[33m.\u001b[39mtoBe(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 290 |\u001b[39m             expect(conv\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mestimatedCost)\u001b[33m.\u001b[39mtoBe(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 291 |\u001b[39m         })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/database.test.ts:288:42)\n\n  ● Database › Settings Operations › should initialize default settings\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"claude-3-opus-20240229\"\n    Received: \"claude-3-sonnet-20240229\"\n\n    \u001b[0m \u001b[90m 304 |\u001b[39m             expect(settings)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 305 |\u001b[39m             expect(settings\u001b[33m.\u001b[39mprovider)\u001b[33m.\u001b[39mtoBe(\u001b[32m'claude'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 306 |\u001b[39m             expect(settings\u001b[33m.\u001b[39mmodel)\u001b[33m.\u001b[39mtoBe(\u001b[32m'claude-3-opus-20240229'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 307 |\u001b[39m             expect(settings\u001b[33m.\u001b[39mtemperature)\u001b[33m.\u001b[39mtoBe(\u001b[35m0.7\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 308 |\u001b[39m             expect(settings\u001b[33m.\u001b[39mmaxTokens)\u001b[33m.\u001b[39mtoBe(\u001b[35m2048\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 309 |\u001b[39m             expect(settings\u001b[33m.\u001b[39mtheme)\u001b[33m.\u001b[39mtoBe(\u001b[32m'dark'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/database.test.ts:306:36)\n\n  ● Database › Settings Operations › should update settings\n\n    TypeError: Cannot read properties of undefined (reading 'provider')\n\n    \u001b[0m \u001b[90m 318 |\u001b[39m             })\u001b[33m;\u001b[39m\n     \u001b[90m 319 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 320 |\u001b[39m             expect(updated\u001b[33m.\u001b[39mprovider)\u001b[33m.\u001b[39mtoBe(\u001b[32m'openai'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 321 |\u001b[39m             expect(updated\u001b[33m.\u001b[39mmodel)\u001b[33m.\u001b[39mtoBe(\u001b[32m'gpt-4'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 322 |\u001b[39m             expect(updated\u001b[33m.\u001b[39mtemperature)\u001b[33m.\u001b[39mtoBe(\u001b[35m0.5\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 323 |\u001b[39m             expect(updated\u001b[33m.\u001b[39mmaxTokens)\u001b[33m.\u001b[39mtoBe(\u001b[35m4096\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/database.test.ts:320:28)\n\n  ● Database › Settings Operations › should merge partial settings updates\n\n    TypeError: Cannot read properties of undefined (reading 'temperature')\n\n    \u001b[0m \u001b[90m 335 |\u001b[39m             })\u001b[33m;\u001b[39m\n     \u001b[90m 336 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 337 |\u001b[39m             expect(updated\u001b[33m.\u001b[39mtemperature)\u001b[33m.\u001b[39mtoBe(\u001b[35m0.9\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 338 |\u001b[39m             expect(updated\u001b[33m.\u001b[39mprovider)\u001b[33m.\u001b[39mtoBe(original\u001b[33m.\u001b[39mprovider)\u001b[33m;\u001b[39m\n     \u001b[90m 339 |\u001b[39m             expect(updated\u001b[33m.\u001b[39mmodel)\u001b[33m.\u001b[39mtoBe(original\u001b[33m.\u001b[39mmodel)\u001b[33m;\u001b[39m\n     \u001b[90m 340 |\u001b[39m         })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/database.test.ts:337:28)\n\n  ● Database › Usage Statistics › should calculate usage statistics\n\n    TypeError: Cannot read properties of undefined (reading 'claude')\n\n    \u001b[0m \u001b[90m 461 |\u001b[39m             expect(stats\u001b[33m.\u001b[39mtotalCost)\u001b[33m.\u001b[39mtoBeCloseTo(\u001b[35m0.045\u001b[39m\u001b[33m,\u001b[39m \u001b[35m3\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// 0.03 + 0.015\u001b[39m\n     \u001b[90m 462 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 463 |\u001b[39m             expect(stats\u001b[33m.\u001b[39mbyProvider\u001b[33m.\u001b[39mclaude)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 464 |\u001b[39m             expect(stats\u001b[33m.\u001b[39mbyProvider\u001b[33m.\u001b[39mclaude\u001b[33m.\u001b[39mmessages)\u001b[33m.\u001b[39mtoBe(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 465 |\u001b[39m             expect(stats\u001b[33m.\u001b[39mbyProvider\u001b[33m.\u001b[39mclaude\u001b[33m.\u001b[39mtokens)\u001b[33m.\u001b[39mtoBe(\u001b[35m30\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 466 |\u001b[39m             expect(stats\u001b[33m.\u001b[39mbyProvider\u001b[33m.\u001b[39mclaude\u001b[33m.\u001b[39mcost)\u001b[33m.\u001b[39mtoBeCloseTo(\u001b[35m0.03\u001b[39m\u001b[33m,\u001b[39m \u001b[35m3\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/database.test.ts:463:37)\n\n  ● Database › Usage Statistics › should handle empty statistics\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.keys (<anonymous>)\n\n    \u001b[0m \u001b[90m 483 |\u001b[39m             expect(stats\u001b[33m.\u001b[39mtotalTokens)\u001b[33m.\u001b[39mtoBe(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 484 |\u001b[39m             expect(stats\u001b[33m.\u001b[39mtotalCost)\u001b[33m.\u001b[39mtoBe(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 485 |\u001b[39m             expect(\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(stats\u001b[33m.\u001b[39mbyProvider)\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39mtoBe(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 486 |\u001b[39m             expect(\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(stats\u001b[33m.\u001b[39mbyModel)\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39mtoBe(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 487 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 488 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/database.test.ts:485:27)\n\n  ● Database › Import/Export Operations › should export conversation with messages\n\n    TypeError: db.exportConversation is not a function\n\n    \u001b[0m \u001b[90m 514 |\u001b[39m             })\u001b[33m;\u001b[39m\n     \u001b[90m 515 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 516 |\u001b[39m             \u001b[36mconst\u001b[39m exported \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39mexportConversation(conv\u001b[33m.\u001b[39mid)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 517 |\u001b[39m\n     \u001b[90m 518 |\u001b[39m             expect(exported\u001b[33m.\u001b[39mconversation\u001b[33m.\u001b[39mtitle)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Export Test'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 519 |\u001b[39m             expect(exported\u001b[33m.\u001b[39mmessages\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39mtoBe(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/database.test.ts:516:33)\n\n  ● Database › Import/Export Operations › should throw error when exporting non-existent conversation\n\n    expect(received).toThrow(expected)\n\n    Expected substring: \"Conversation non-existent not found\"\n    Received message:   \"db.exportConversation is not a function\"\n\n        \u001b[0m \u001b[90m 524 |\u001b[39m         test(\u001b[32m'should throw error when exporting non-existent conversation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n         \u001b[90m 525 |\u001b[39m             expect(() \u001b[33m=>\u001b[39m {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 526 |\u001b[39m                 db\u001b[33m.\u001b[39mexportConversation(\u001b[32m'non-existent'\u001b[39m)\u001b[33m;\u001b[39m\n         \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 527 |\u001b[39m             })\u001b[33m.\u001b[39mtoThrow(\u001b[32m'Conversation non-existent not found'\u001b[39m)\u001b[33m;\u001b[39m\n         \u001b[90m 528 |\u001b[39m         })\u001b[33m;\u001b[39m\n         \u001b[90m 529 |\u001b[39m\u001b[0m\n\n      at src/__tests__/database.test.ts:526:20\n      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:74:11)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:21)\n      at Object.<anonymous> (src/__tests__/database.test.ts:527:16)\n      at Object.<anonymous> (src/__tests__/database.test.ts:527:16)\n\n  ● Database › Import/Export Operations › should import conversation with new IDs\n\n    TypeError: db.exportConversation is not a function\n\n    \u001b[0m \u001b[90m 542 |\u001b[39m             })\u001b[33m;\u001b[39m\n     \u001b[90m 543 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 544 |\u001b[39m             \u001b[36mconst\u001b[39m exported \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39mexportConversation(original\u001b[33m.\u001b[39mid)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 545 |\u001b[39m\n     \u001b[90m 546 |\u001b[39m             \u001b[90m// Import as new conversation\u001b[39m\n     \u001b[90m 547 |\u001b[39m             \u001b[36mconst\u001b[39m imported \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39mimportConversation(exported)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/database.test.ts:544:33)\n\n  ● Database › Import/Export Operations › should preserve message order during import\n\n    TypeError: db.exportConversation is not a function\n\n    \u001b[0m \u001b[90m 580 |\u001b[39m             })\u001b[33m;\u001b[39m\n     \u001b[90m 581 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 582 |\u001b[39m             \u001b[36mconst\u001b[39m exported \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39mexportConversation(original\u001b[33m.\u001b[39mid)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 583 |\u001b[39m             \u001b[36mconst\u001b[39m imported \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39mimportConversation(exported)\u001b[33m;\u001b[39m\n     \u001b[90m 584 |\u001b[39m\n     \u001b[90m 585 |\u001b[39m             \u001b[36mconst\u001b[39m importedMessages \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39mgetMessages(imported\u001b[33m.\u001b[39mid)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (src/__tests__/database.test.ts:582:33)\n\n  ● Database › Event Emissions › should emit events on operations\n\n    DatabaseError: Conversation not found\n\n    \u001b[0m \u001b[90m 200 |\u001b[39m         \u001b[36mconst\u001b[39m conversation \u001b[33m=\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mconversations[id]\u001b[33m;\u001b[39m\n     \u001b[90m 201 |\u001b[39m         \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mconversation) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 202 |\u001b[39m             \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDatabaseError\u001b[39m(\u001b[32m'Conversation not found'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'update'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 203 |\u001b[39m         }\n     \u001b[90m 204 |\u001b[39m\n     \u001b[90m 205 |\u001b[39m         \u001b[36mif\u001b[39m (updates\u001b[33m.\u001b[39mtitle \u001b[33m!==\u001b[39m undefined) {\u001b[0m\n\n      at Database.updateConversation (src/main/models/JsonDatabase.ts:202:19)\n      at Object.<anonymous> (src/__tests__/database.test.ts:108:32)\n\n  ● Database › Event Emissions › should emit events on operations\n\n    DatabaseError: Conversation not found\n\n    \u001b[0m \u001b[90m 200 |\u001b[39m         \u001b[36mconst\u001b[39m conversation \u001b[33m=\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mconversations[id]\u001b[33m;\u001b[39m\n     \u001b[90m 201 |\u001b[39m         \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mconversation) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 202 |\u001b[39m             \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDatabaseError\u001b[39m(\u001b[32m'Conversation not found'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'update'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 203 |\u001b[39m         }\n     \u001b[90m 204 |\u001b[39m\n     \u001b[90m 205 |\u001b[39m         \u001b[36mif\u001b[39m (updates\u001b[33m.\u001b[39mtitle \u001b[33m!==\u001b[39m undefined) {\u001b[0m\n\n      at Database.updateConversation (src/main/models/JsonDatabase.ts:202:19)\n      at src/__tests__/database.test.ts:122:20\n      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:74:11)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:21)\n      at Object.<anonymous> (src/__tests__/database.test.ts:123:16)\n\n  ● Database › Event Emissions › should emit events on operations\n\n    DatabaseError: Conversation not found\n\n    \u001b[0m \u001b[90m 200 |\u001b[39m         \u001b[36mconst\u001b[39m conversation \u001b[33m=\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mconversations[id]\u001b[33m;\u001b[39m\n     \u001b[90m 201 |\u001b[39m         \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mconversation) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 202 |\u001b[39m             \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDatabaseError\u001b[39m(\u001b[32m'Conversation not found'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'update'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 203 |\u001b[39m         }\n     \u001b[90m 204 |\u001b[39m\n     \u001b[90m 205 |\u001b[39m         \u001b[36mif\u001b[39m (updates\u001b[33m.\u001b[39mtitle \u001b[33m!==\u001b[39m undefined) {\u001b[0m\n\n      at Database.updateConversation (src/main/models/JsonDatabase.ts:202:19)\n      at Object.<anonymous> (src/__tests__/database.test.ts:631:16)\n\n  ● Database › Event Emissions › should emit events on operations\n\n    thrown: \"Exceeded timeout of 10000 ms for a test while waiting for `done()` to be called.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 592 |\u001b[39m\n     \u001b[90m 593 |\u001b[39m     describe(\u001b[32m'Event Emissions'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 594 |\u001b[39m         test(\u001b[32m'should emit events on operations'\u001b[39m\u001b[33m,\u001b[39m (done) \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 595 |\u001b[39m             \u001b[36mlet\u001b[39m eventCount \u001b[33m=\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 596 |\u001b[39m             \u001b[36mconst\u001b[39m expectedEvents \u001b[33m=\u001b[39m \u001b[35m5\u001b[39m\u001b[33m;\u001b[39m \u001b[90m// created, updated, message created, message updated, deleted\u001b[39m\n     \u001b[90m 597 |\u001b[39m\u001b[0m\n\n      at src/__tests__/database.test.ts:594:9\n      at src/__tests__/database.test.ts:593:5\n      at Object.<anonymous> (src/__tests__/database.test.ts:18:1)\n","name":"D:\\projects\\mastermind\\AI-First-Team2-claude-desktop-client-main\\src\\__tests__\\database.test.ts","startTime":1750666671855,"status":"failed","summary":""}],"wasInterrupted":false}
